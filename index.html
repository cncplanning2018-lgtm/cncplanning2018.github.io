<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script>
      AFRAME.registerComponent('ar-manager', {
        init: function () {
          this.index = 0;
          
          window.addEventListener('click', () => {
            console.log('クリック! index:', this.index);
            
            const dog = document.querySelector('#model-dog');
            const sheep = document.querySelector('#model-sheep');
            const ele = document.querySelector('#model-ele');
            
            if (this.index === 0) {
              // 犬→羊
              console.log('犬を隠して羊を表示');
              dog.setAttribute('visible', false);
              sheep.setAttribute('visible', true);
              this.index = 1;
            } else if (this.index === 1) {
              // 羊→象
              console.log('羊を隠して象を表示');
              sheep.setAttribute('visible', false);
              ele.setAttribute('visible', true);
              this.index = 2;
            } else {
              console.log('もう終わり');
            }
          });
        }
      });
    </script>
  </head>
  <body style="margin: 0px; overflow: hidden;">
    <a-scene embedded arjs="debugUIEnabled: false;" ar-manager>
      
      <a-assets>
        <a-asset-item id="glb-dog" src="dogg.glb"></a-asset-item>
        <a-asset-item id="glb-sheep" src="sheep.glb"></a-asset-item>
        <a-asset-item id="glb-ele" src="ele01.glb"></a-asset-item>
      </a-assets>
      
      <a-marker type="pattern" url="pattern-marker02.patt">
        
        <a-entity id="model-dog" gltf-model="#glb-dog" scale="0.3 0.3 0.3" visible="true"></a-entity>
        <a-entity id="model-sheep" gltf-model="#glb-sheep" scale="0.3 0.3 0.3" visible="false"></a-entity>
        <a-entity id="model-ele" gltf-model="#glb-ele" scale="0.3 0.3 0.3" visible="false"></a-entity>
        
      </a-marker>
      
      <a-entity camera></a-entity>
      
    </a-scene>
  </body>
</html>
